Add a pkgconfigdir variable to allow specifying an installation location for
pkg-config files independent of libdir.  The libraries are needed by Hurd, so
libdir is /lib, but the pkg-config stuff is for development, which goes under
/usr/lib/pkgconfig.

--- MCONFIG.in
+++ MCONFIG.in
@@ -29,6 +29,7 @@ man5dir = $(mandir)/man5
 man8dir = $(mandir)/man8
 infodir = @infodir@
 datadir = @datadir@
+pkgconfigdir = $(libdir)/pkgconfig
 
 @SET_MAKE@
 
--- lib/blkid/Makefile.in
+++ lib/blkid/Makefile.in
@@ -148,7 +148,7 @@ blkid.pc: $(srcdir)/blkid.pc.in $(top_builddir)/config.status
 installdirs::
 	$(E) "	MKINSTALLDIRS $(libdir) $(includedir)/blkid"
 	$(Q) $(MKINSTALLDIRS) $(DESTDIR)$(libdir) \
-		$(DESTDIR)$(includedir)/blkid $(DESTDIR)$(libdir)/pkgconfig
+		$(DESTDIR)$(includedir)/blkid $(DESTDIR)$(pkgconfigdir)
 
 install:: all installdirs 
 	$(E) "	INSTALL_DATA $(libdir)/libblkid.a"
@@ -163,12 +163,12 @@ install:: all installdirs
 		echo "	INSTALL_DATA $(man3dir)/$$i"; \
 		$(INSTALL_DATA) $$i $(DESTDIR)$(man3dir)/$$i; \
 	done
-	$(E) "	INSTALL_DATA $(libdir)/pkgconfig/blkid.pc"
-	$(Q) $(INSTALL_DATA) blkid.pc $(DESTDIR)$(libdir)/pkgconfig/blkid.pc
+	$(E) "	INSTALL_DATA $(pkgconfigdir)/blkid.pc"
+	$(Q) $(INSTALL_DATA) blkid.pc $(DESTDIR)$(pkgconfigdir)/blkid.pc
 
 uninstall::
 	$(RM) -f $(DESTDIR)$(libdir)/libblkid.a \
-		$(DESTDIR)$(libdir)/pkgconfig/blkid.pc
+		$(DESTDIR)$(pkgconfigdir)/blkid.pc
 	$(RM) -rf $(DESTDIR)$(includedir)/blkid
 	for i in $(SMANPAGES); do \
 		$(RM) -f $(DESTDIR)$(man3dir)/$$i; \
--- lib/e2p/Makefile.in
+++ lib/e2p/Makefile.in
@@ -82,7 +82,7 @@ check::	tst_ostype tst_feature
 installdirs::
 	$(E) "	MKINSTALLDIRS $(libdir) $(includedir)/e2p"
 	$(Q) $(MKINSTALLDIRS) $(DESTDIR)$(libdir) \
-		$(DESTDIR)$(includedir)/e2p $(DESTDIR)$(libdir)/pkgconfig
+		$(DESTDIR)$(includedir)/e2p $(DESTDIR)$(pkgconfigdir)
 
 install:: all installdirs 
 	$(E) "	INSTALL_DATA $(libdir)/libe2p.a"
@@ -93,12 +93,12 @@ install:: all installdirs
 	  echo "	INSTALL_DATA $(includedir)/e2p/$$i"; \
 	  $(INSTALL_DATA) $(srcdir)/$$i $(DESTDIR)$(includedir)/e2p/$$i; \
 	done
-	$(E) "	INSTALL_DATA $(libdir)/pkgconfig/e2p.pc"
-	$(Q) $(INSTALL_DATA) e2p.pc $(DESTDIR)$(libdir)/pkgconfig/e2p.pc
+	$(E) "	INSTALL_DATA $(pkgconfigdir)/e2p.pc"
+	$(Q) $(INSTALL_DATA) e2p.pc $(DESTDIR)$(pkgconfigdir)/e2p.pc
 
 uninstall::
 	$(RM) -f $(DESTDIR)$(libdir)/libe2p.a \
-		$(DESTDIR)$(libdir)/pkgconfig/e2p.pc
+		$(DESTDIR)$(pkgconfigdir)/e2p.pc
 	$(RM) -rf $(DESTDIR)$(includedir)/e2p
 
 clean::
--- lib/et/Makefile.in
+++ lib/et/Makefile.in
@@ -105,7 +105,7 @@ installdirs::
 	$(Q) $(MKINSTALLDIRS) $(DESTDIR)$(libdir) \
 		$(DESTDIR)$(includedir)/et $(DESTDIR)$(datadir)/et \
 		$(DESTDIR)$(bindir) $(DESTDIR)$(man1dir) \
-		$(DESTDIR)$(man3dir) $(DESTDIR)$(libdir)/pkgconfig
+		$(DESTDIR)$(man3dir) $(DESTDIR)$(pkgconfigdir)
 
 install:: compile_et libcom_err.a $(HFILES) installdirs com_err.pc
 	$(E) "	INSTALL_DATA $(libdir)/libcom_err.a"
@@ -129,13 +129,13 @@ install:: compile_et libcom_err.a $(HFILES) installdirs com_err.pc
 	$(E) "	INSTALL_DATA $(man1dir)/compile_et.1"
 	$(Q) $(INSTALL_DATA) $(srcdir)/compile_et.1 \
 			$(DESTDIR)$(man1dir)/compile_et.1
-	$(E) "	INSTALL_DATA $(libdir)/pkgconfig/com_err.pc"
-	$(Q) $(INSTALL_DATA) com_err.pc $(DESTDIR)$(libdir)/pkgconfig/com_err.pc
+	$(E) "	INSTALL_DATA $(pkgconfigdir)/com_err.pc"
+	$(Q) $(INSTALL_DATA) com_err.pc $(DESTDIR)$(pkgconfigdir)/com_err.pc
 
 uninstall::
 	$(RM) -f $(DESTDIR)$(libdir)/libcom_err.a \
 		$(DESTDIR)$(bindir)/compile_et \
-		$(DESTDIR)$(libdir)/pkgconfig/com_err.pc
+		$(DESTDIR)$(pkgconfigdir)/com_err.pc
 	$(RM) -rf $(DESTDIR)$(includedir)/et $(DESTDIR)$(datadir)/et
 
 check:: compile_et
--- lib/ext2fs/Makefile.in
+++ lib/ext2fs/Makefile.in
@@ -435,7 +435,7 @@ check:: tst_bitops tst_badblocks tst_iscan tst_types tst_icount \
 installdirs::
 	$(E) "	MKINSTALLDIRS $(libdir) $(includedir)/ext2fs"
 	$(Q) $(MKINSTALLDIRS) $(DESTDIR)$(libdir) \
-		$(DESTDIR)$(includedir)/ext2fs $(DESTDIR)$(libdir)/pkgconfig
+		$(DESTDIR)$(includedir)/ext2fs $(DESTDIR)$(pkgconfigdir)
 
 install:: all $(HFILES) $(HFILES_IN) installdirs ext2fs.pc
 	$(E) "	INSTALL_DATA $(libdir)/libext2fs.a"
@@ -450,12 +450,12 @@ install:: all $(HFILES) $(HFILES_IN) installdirs ext2fs.pc
 		echo "	INSTALL_DATA $(includedir)/ext2fs/$$i"; \
 		$(INSTALL_DATA) $$i $(DESTDIR)$(includedir)/ext2fs/$$i; \
 	done
-	$(E) "	INSTALL_DATA $(libdir)/pkgconfig/ext2fs.pc"
-	$(Q) $(INSTALL_DATA) ext2fs.pc $(DESTDIR)$(libdir)/pkgconfig/ext2fs.pc
+	$(E) "	INSTALL_DATA $(pkgconfigdir)/ext2fs.pc"
+	$(Q) $(INSTALL_DATA) ext2fs.pc $(DESTDIR)$(pkgconfigdir)/ext2fs.pc
 
 uninstall::
 	$(RM) -f $(DESTDIR)$(libdir)/libext2fs.a \
-		$(DESTDIR)$(libdir)/pkgconfig/ext2fs.pc
+		$(DESTDIR)$(pkgconfigdir)/ext2fs.pc
 	$(RM) -rf $(DESTDIR)$(includedir)/ext2fs 
 
 clean::
--- lib/quota/Makefile.in
+++ lib/quota/Makefile.in
@@ -75,7 +75,7 @@ installdirs::
 	$(E) "	MKINSTALLDIRS $(libdir) $(includedir)/quota $(man3dir)"
 	$(Q) $(MKINSTALLDIRS) $(DESTDIR)$(libdir)  \
 		$(DESTDIR)$(includedir)/quota $(DESTDIR)$(man3dir) \
-		$(DESTDIR)$(libdir)/pkgconfig
+		$(DESTDIR)$(pkgconfigdir)
 
 install:: all installdirs
 	$(E) "	INSTALL_DATA $(libdir)/libquota.a"
@@ -89,12 +89,12 @@ install:: all installdirs
 		echo "	INSTALL_DATA $(man3dir)/$$i"; \
 		$(INSTALL_DATA) $$i $(DESTDIR)$(man3dir)/$$i; \
 	done
-	$(E) "	INSTALL_DATA $(libdir)/pkgconfig/quota.pc"
-	$(Q) $(INSTALL_DATA) quota.pc $(DESTDIR)$(libdir)/pkgconfig/quota.pc
+	$(E) "	INSTALL_DATA $(pkgconfigdir)/quota.pc"
+	$(Q) $(INSTALL_DATA) quota.pc $(DESTDIR)$(pkgconfigdir)/quota.pc
 
 uninstall::
 	$(RM) -f $(DESTDIR)$(libdir)/libquota.a \
-		$(DESTDIR)$(libdir)/pkgconfig/quota.pc
+		$(DESTDIR)$(pkgconfigdir)/quota.pc
 	for i in $(SMANPAGES); do \
 		$(RM) -f $(DESTDIR)$(man3dir)/$$i; \
 	done
--- lib/ss/Makefile.in
+++ lib/ss/Makefile.in
@@ -128,7 +128,7 @@ installdirs::
 	$(E) "	MKINSTALLDIRS $(libdir) $(includedir)/ss $(datadir)/ss $(bindir)"
 	$(Q) $(MKINSTALLDIRS) $(DESTDIR)$(libdir) \
 		$(DESTDIR)$(includedir)/ss $(DESTDIR)$(datadir)/ss \
-		$(DESTDIR)$(bindir) $(DESTDIR)$(libdir)/pkgconfig
+		$(DESTDIR)$(bindir) $(DESTDIR)$(pkgconfigdir)
 
 install:: libss.a $(INSTALL_HFILES) installdirs ss_err.h mk_cmds ss.pc
 	$(E) "	INSTALL_DATA $(DESTDIR)$(libdir)/libss.a"
@@ -150,12 +150,12 @@ install:: libss.a $(INSTALL_HFILES) installdirs ss_err.h mk_cmds ss.pc
 	$(Q) $(INSTALL) mk_cmds $(DESTDIR)$(bindir)/mk_cmds
 	$(E) "	INSTALL_DATA $(man1dir)/mk_cmds.1"
 	$(Q) $(INSTALL_DATA) $(srcdir)/mk_cmds.1 $(DESTDIR)$(man1dir)/mk_cmds.1
-	$(E) "	INSTALL_DATA $(libdir)/pkgconfig/ss.pc"
-	$(Q) $(INSTALL_DATA) ss.pc $(DESTDIR)$(libdir)/pkgconfig/ss.pc
+	$(E) "	INSTALL_DATA $(pkgconfigdir)/ss.pc"
+	$(Q) $(INSTALL_DATA) ss.pc $(DESTDIR)$(pkgconfigdir)/ss.pc
 
 uninstall::
 	$(RM) -f $(DESTDIR)$(libdir)/libss.a $(DESTDIR)$(bindir)/mk_cmds \
-		$(DESTDIR)$(libdir)/pkgconfig/ss.pc \
+		$(DESTDIR)$(pkgconfigdir)/ss.pc \
 		$(DESTDIR)$(man1dir)/mk_cmds.1 
 	$(RM) -rf $(DESTDIR)$(includedir)/ss $(DESTDIR)$(datadir)/ss
 
--- lib/uuid/Makefile.in
+++ lib/uuid/Makefile.in
@@ -134,7 +134,7 @@ installdirs::
 	$(E) "	MKINSTALLDIRS $(libdir) $(includedir)/uuid $(man3dir)"
 	$(Q) $(MKINSTALLDIRS) $(DESTDIR)$(libdir)  \
 		$(DESTDIR)$(includedir)/uuid $(DESTDIR)$(man3dir) \
-		$(DESTDIR)$(libdir)/pkgconfig
+		$(DESTDIR)$(pkgconfigdir)
 
 install:: all installdirs 
 	$(E) "	INSTALL_DATA $(libdir)/libuuid.a"
@@ -156,12 +156,12 @@ install:: all installdirs
 	$(E) "	LINK $(man3dir)/uuid_generate_time.3"
 	$(Q) (cd $(DESTDIR)$(man3dir); \
 	    $(LN) $(LINK_INSTALL_FLAGS) uuid_generate.3 uuid_generate_time.3)
-	$(E) "	INSTALL_DATA $(libdir)/pkgconfig/uuid.pc"
-	$(Q) $(INSTALL_DATA) uuid.pc $(DESTDIR)$(libdir)/pkgconfig/uuid.pc
+	$(E) "	INSTALL_DATA $(pkgconfigdir)/uuid.pc"
+	$(Q) $(INSTALL_DATA) uuid.pc $(DESTDIR)$(pkgconfigdir)/uuid.pc
 
 uninstall::
 	$(RM) -f $(DESTDIR)$(libdir)/libuuid.a \
-		$(DESTDIR)$(libdir)/pkgconfig/uuid.pc
+		$(DESTDIR)$(pkgconfigdir)/uuid.pc
 	for i in $(SMANPAGES); do \
 		$(RM) -f $(DESTDIR)$(man3dir)/$$i; \
 	done
-- 
1.8.3.1

